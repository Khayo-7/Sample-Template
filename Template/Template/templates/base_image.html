{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=yes"> <!--# no -->
    <!-- <link as="script" rel="preload" href="{% static 'js/html2canvas.js' %}"/>
    <link rel="stylesheet" type="text/css" media="screen" href="{% static 'css/main.css' %}"> -->    

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.1/css/materialize.min.css" integrity="sha256-qj3p6P1fJIV+Ndv7RW1ovZI2UhOuboj9GcODzcNFIN8=" crossorigin="anonymous" />

    <title>Base html -   {{title}} {{page_type}}</title>
  
</head>
<body ><nav>
      
  
        <div class="nav-wrapper">
            
          <a href="{% url 'index' %}" class="brand-logo">
              <img class="img-fluid mx-auto d-block" src="{% static 'img/INSA.jpg' %}" alt="logo image" width="100%" height="100%">
            </a>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
              <li>    
                <div class="center row">
                <div class="col s12 " >
                    <div class="row" id="topbarsearch">
                    <div class="input-field col s6 s12 red-text">
                        <i class="red-text material-icons prefix">search</i>
                        <input type="text" placeholder="search" id="autocomplete-input" class="autocomplete red-text" >
                        </div>
                    </div>
                    </div>
                </div>          
            </li>  
            <li><a href="{% url 'index' %}">Home</a></li>
            <li><a href="{% url 'about' %}">About</a></li>
            <li><a href="{% url 'contact' %}">Contact Us</a></li>
            
            {% if user.is_authenticated %}
                <li><a href="{% url 'users:logout' %}">Logout</a></li>
                <li><a href="{% url 'users:password_change' %}">Change password</a></li>
      
            {% else %}
                <li><a href="{% url 'users:login' %}">Login</a></li>
                <li><a href="{% url 'users:register' %}">Register</a></li>
            {% endif %} 
    
    </ul>
        </div>
      </nav>

  


  <div class="container">
      {% block content %}
  
      {% endblock content %}
  </div>

  <div class="container">
        <p> <a href="{{ request.META.HTTP_REFERER }}">Back</a></p>
  </div>


  <div id="capture" style="padding: 10px; background: #f5da55">
    <h4 style="color: #000; ">Hello world!</h4>
</div>

{% block javascript %}
    <script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous">
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.1/js/materialize.min.js" integrity="sha256-SrBfGi+Zp2LhAvy9M1bWOCXztRU9Ztztxmu5BcYPcPE=" crossorigin="anonymous"></script>   
    <script src=" {% static 'js/main.js"></script>   
    <script src=" {% static 'js/materializedatetimepicker.js"></script>  
    <script>
        $(document).ready(function(){
                    M.AutoInit();
                    var DateTimeField = MaterialDateTimePicker.create($('input'))
        // Initialize materialize data picker
       // $('.datepicker').datepicker({'format': 'yyyy-mm-dd'});
       // $('.timepicker').timepicker();
        //$('select').formSelect();
        });
    </script>
  
   
{% endblock javascript %}

</body>

<script>
//     import React, { Fragment, useState } from "react";
//     import { DateTimePicker } from "@material-ui/pickers";
    
//     function BasicDateTimePicker() {
//       const [selectedDate, handleDateChange] = useState(new Date());
    
//       return (
//         <Fragment>
//           <DateTimePicker
//             label="DateTimePicker"
//             inputVariant="outlined"
//             value={selectedDate}
//             onChange={handleDateChange}
//         //   />
    
//         //   <DateTimePicker
//         //     autoOk
//         //     ampm={false}
//         //     disableFuture
//         //     value={selectedDate}
//         //     onChange={handleDateChange}
//         //     label="24h clock"
//         //   />
    
//         //   <DateTimePicker
//         //     value={selectedDate}
//         //     disablePast
//         //     onChange={handleDateChange}
//         //     label="With Today Button"
//         //     showTodayButton
//           />
//         </Fragment>
//       );
//     }
    
//     export default BasicDateTimePicker;
// </script>
<script>
     $(".nav-wrapper").css("background-color", 'darkblue');
     $(".secondary-content>.material-icons").css("color", 'purple');
     $(".btn").css("background-color", 'purple');
     $(".page-footer").css("background-color", 'purple');
     $(".input-field").css("color", 'purple');
     $(".input-field>.material-icons").css("color", 'purple');
     $(".input-field>label").css("color", 'purple');
</script>
    <script>

        html2canvas(document.querySelector("#capture")).then(canvas => {
            document.body.appendChild(canvas)
        });

        $(function() { 
    $("#btnSave").click(function() { 
        html2canvas($("#widget"), {
            onrendered: function(canvas) {
                theCanvas = canvas;


                canvas.toBlob(function(blob) {
                    saveAs(blob, "Dashboard.png"); 
                });
            }
        });
    });
});
    </script>


<span id="widget" class="widget" field="AGE" roundby="20" description="Patient age, in years">
    
    <table ng-model="table" class="ng-pristine ng-valid">
      
      <thead>
        <tr>
          <th class="cell value">Value</th>
          <th class="cell freq">Freq</th>
          <th class="cell value"></th>
        </tr>
      </thead>
      <tbody>

      <tr ng-show="getShowMean()" class="">
        <td class="stat">Mean</td>
        <td class="ng-binding">46.1</td>
      </tr>


      </tbody>
    </table>

<!-- ngRepeat: field in getChildren(field) -->
</span>
<br/>
<input type="button" id="btnSave" value="Save PNG"/>

<div id="img-out"></div>



<script>

html2canvas(document.querySelector("#widget")).then(canvas => {
    document.body.appendChild(canvas)
});


</script>




</html>
<span id="widget" class="widget">dfgdfg</span>
<input type="button" id="btnSave" value="Save PNG"/>
<div id="img-out"></div>

<script>

$(function() { 
    $("#btnSave").click(function() { 
        html2canvas($("#widget"), {
            onrendered: function(canvas) {                
                document.body.appendChild(canvas);
                canvas.toBlob(function(blob) {saveAs(blob, "new.png")});
            }
        });
    });
}); 
</script>






